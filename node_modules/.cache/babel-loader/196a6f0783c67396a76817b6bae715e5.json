{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useRef } from 'react';\nimport { Button, FormHelperText, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport CloseIcon from '@material-ui/icons/RemoveCircleOutline';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport classNames from 'classnames';\nimport get from 'lodash/get';\nimport PropTypes from 'prop-types';\nimport { useTranslate, ValidationError } from 'ra-core';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { IconButtonWithTooltip } from '../button';\nimport FormInput from './FormInput';\nexport var SimpleFormIterator = function (props) {\n  var _a = props.addButton,\n      addButton = _a === void 0 ? React.createElement(DefaultAddButton, null) : _a,\n      _b = props.removeButton,\n      removeButton = _b === void 0 ? React.createElement(DefaultRemoveButton, null) : _b,\n      _c = props.reOrderButtons,\n      reOrderButtons = _c === void 0 ? React.createElement(DefaultReOrderButtons, null) : _c,\n      basePath = props.basePath,\n      children = props.children,\n      className = props.className,\n      fields = props.fields,\n      _d = props.meta,\n      error = _d.error,\n      submitFailed = _d.submitFailed,\n      record = props.record,\n      resource = props.resource,\n      source = props.source,\n      disabled = props.disabled,\n      disableAdd = props.disableAdd,\n      disableRemove = props.disableRemove,\n      disableReordering = props.disableReordering,\n      variant = props.variant,\n      margin = props.margin,\n      TransitionProps = props.TransitionProps,\n      defaultValue = props.defaultValue,\n      _e = props.getItemLabel,\n      getItemLabel = _e === void 0 ? DefaultLabelFn : _e;\n  var classes = useStyles(props);\n  var nodeRef = useRef(null); // We need a unique id for each field for a proper enter/exit animation\n  // so we keep an internal map between the field position and an auto-increment id\n\n  var nextId = useRef(fields && fields.length ? fields.length : defaultValue ? defaultValue.length : 0); // We check whether we have a defaultValue (which must be an array) before checking\n  // the fields prop which will always be empty for a new record.\n  // Without it, our ids wouldn't match the default value and we would get key warnings\n  // on the CssTransition element inside our render method\n\n  var ids = useRef(nextId.current > 0 ? Array.from(Array(nextId.current).keys()) : []);\n\n  var removeField = function (index) {\n    return function () {\n      ids.current.splice(index, 1);\n      fields === null || fields === void 0 ? void 0 : fields.remove(index);\n    };\n  }; // Returns a boolean to indicate whether to disable the remove button for certain fields.\n  // If disableRemove is a function, then call the function with the current record to\n  // determining if the button should be disabled. Otherwise, use a boolean property that\n  // enables or disables the button for all of the fields.\n\n\n  var disableRemoveField = function (record, disableRemove) {\n    if (typeof disableRemove === 'boolean') {\n      return disableRemove;\n    }\n\n    return disableRemove && disableRemove(record);\n  };\n\n  var addField = function () {\n    ids.current.push(nextId.current++);\n    fields === null || fields === void 0 ? void 0 : fields.push(undefined);\n  }; // add field and call the onClick event of the button passed as addButton prop\n\n\n  var handleAddButtonClick = function (originalOnClickHandler) {\n    return function (event) {\n      addField();\n\n      if (originalOnClickHandler) {\n        originalOnClickHandler(event);\n      }\n    };\n  }; // remove field and call the onClick event of the button passed as removeButton prop\n\n\n  var handleRemoveButtonClick = function (originalOnClickHandler, index) {\n    return function (event) {\n      removeField(index)();\n\n      if (originalOnClickHandler) {\n        originalOnClickHandler(event);\n      }\n    };\n  };\n\n  var handleReorder = function (origin, destination) {\n    var item = ids.current[origin];\n    ids.current[origin] = ids.current[destination];\n    ids.current[destination] = item;\n    fields === null || fields === void 0 ? void 0 : fields.move(origin, destination);\n  };\n\n  var records = get(record, source);\n  return fields ? React.createElement(\"ul\", {\n    className: classNames(classes.root, className)\n  }, submitFailed && typeof error !== 'object' && error && React.createElement(FormHelperText, {\n    error: true\n  }, React.createElement(ValidationError, {\n    error: error\n  })), React.createElement(TransitionGroup, {\n    component: null\n  }, fields.map(function (member, index) {\n    return React.createElement(CSSTransition, __assign({\n      nodeRef: nodeRef,\n      key: ids.current[index],\n      timeout: 500,\n      classNames: \"fade\"\n    }, TransitionProps), React.createElement(\"li\", {\n      className: classes.line\n    }, React.createElement(\"div\", null, React.createElement(\"div\", {\n      className: classes.indexContainer\n    }, React.createElement(Typography, {\n      variant: \"body1\",\n      className: classes.index\n    }, getItemLabel(index)), !disabled && !disableReordering && cloneElement(reOrderButtons, {\n      index: index,\n      max: fields.length,\n      onReorder: handleReorder,\n      className: classNames('button-reorder', \"button-reorder-\" + source + \"-\" + index)\n    }))), React.createElement(\"section\", {\n      className: classes.form\n    }, Children.map(children, function (input, index2) {\n      if (!isValidElement(input)) {\n        return null;\n      }\n\n      var _a = input.props,\n          source = _a.source,\n          inputProps = __rest(_a, [\"source\"]);\n\n      return React.createElement(FormInput, {\n        basePath: input.props.basePath || basePath,\n        input: cloneElement(input, __assign({\n          source: source ? member + \".\" + source : member,\n          index: source ? undefined : index2,\n          label: typeof input.props.label === 'undefined' ? source ? \"resources.\" + resource + \".fields.\" + source : undefined : input.props.label,\n          disabled: disabled\n        }, inputProps)),\n        record: records && records[index] || {},\n        resource: resource,\n        variant: variant,\n        margin: margin\n      });\n    })), !disabled && !disableRemoveField(records && records[index] || {}, disableRemove) && React.createElement(\"span\", {\n      className: classes.action\n    }, cloneElement(removeButton, {\n      onClick: handleRemoveButtonClick(removeButton.props.onClick, index),\n      className: classNames('button-remove', \"button-remove-\" + source + \"-\" + index)\n    }))));\n  })), !disabled && !disableAdd && React.createElement(\"li\", {\n    className: classes.line\n  }, React.createElement(\"span\", {\n    className: classes.action\n  }, cloneElement(addButton, {\n    onClick: handleAddButtonClick(addButton.props.onClick),\n    className: classNames('button-add', \"button-add-\" + source)\n  })))) : null;\n};\nSimpleFormIterator.defaultProps = {\n  disableAdd: false,\n  disableRemove: false\n};\nSimpleFormIterator.propTypes = {\n  defaultValue: PropTypes.any,\n  addButton: PropTypes.element,\n  removeButton: PropTypes.element,\n  basePath: PropTypes.string,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  // @ts-ignore\n  fields: PropTypes.object,\n  meta: PropTypes.object,\n  // @ts-ignore\n  record: PropTypes.object,\n  source: PropTypes.string,\n  resource: PropTypes.string,\n  translate: PropTypes.func,\n  disableAdd: PropTypes.bool,\n  disableRemove: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  TransitionProps: PropTypes.shape({})\n};\nvar useStyles = makeStyles(function (theme) {\n  var _a, _b;\n\n  return {\n    root: {\n      padding: 0,\n      marginBottom: 0,\n      '& > li:last-child': {\n        borderBottom: 'none'\n      }\n    },\n    line: (_a = {\n      display: 'flex',\n      listStyleType: 'none',\n      borderBottom: \"solid 1px \" + theme.palette.divider\n    }, _a[theme.breakpoints.down('xs')] = {\n      display: 'block'\n    }, _a['&.fade-enter'] = {\n      opacity: 0.01,\n      transform: 'translateX(100vw)'\n    }, _a['&.fade-enter-active'] = {\n      opacity: 1,\n      transform: 'translateX(0)',\n      transition: 'all 500ms ease-in'\n    }, _a['&.fade-exit'] = {\n      opacity: 1,\n      transform: 'translateX(0)'\n    }, _a['&.fade-exit-active'] = {\n      opacity: 0.01,\n      transform: 'translateX(100vw)',\n      transition: 'all 500ms ease-in'\n    }, _a),\n    index: (_b = {}, _b[theme.breakpoints.down('sm')] = {\n      display: 'none'\n    }, _b.marginRight = theme.spacing(1), _b),\n    indexContainer: {\n      display: 'flex',\n      paddingTop: '1em',\n      marginRight: theme.spacing(1),\n      alignItems: 'center'\n    },\n    form: {\n      flex: 2\n    },\n    action: {\n      paddingTop: '0.5em'\n    },\n    leftIcon: {\n      marginRight: theme.spacing(1)\n    }\n  };\n}, {\n  name: 'RaSimpleFormIterator'\n});\n\nvar DefaultAddButton = function (props) {\n  var classes = useStyles(props);\n  var translate = useTranslate();\n  return React.createElement(Button, __assign({\n    size: \"small\"\n  }, props), React.createElement(AddIcon, {\n    className: classes.leftIcon\n  }), translate('ra.action.add'));\n};\n\nvar DefaultLabelFn = function (index) {\n  return index + 1;\n};\n\nvar DefaultRemoveButton = function (props) {\n  var classes = useStyles(props);\n  var translate = useTranslate();\n  return React.createElement(Button, __assign({\n    size: \"small\"\n  }, props), React.createElement(CloseIcon, {\n    className: classes.leftIcon\n  }), translate('ra.action.remove'));\n};\n\nvar DefaultReOrderButtons = function (_a) {\n  var className = _a.className,\n      index = _a.index,\n      max = _a.max,\n      onReorder = _a.onReorder;\n  return React.createElement(\"div\", {\n    className: className\n  }, React.createElement(IconButtonWithTooltip, {\n    label: \"ra.action.move_up\",\n    size: \"small\",\n    onClick: function () {\n      return onReorder(index, index - 1);\n    },\n    disabled: index <= 0\n  }, React.createElement(ArrowUpwardIcon, null)), React.createElement(IconButtonWithTooltip, {\n    label: \"ra.action.move_down\",\n    size: \"small\",\n    onClick: function () {\n      return onReorder(index, index + 1);\n    },\n    disabled: max == null || index >= max - 1\n  }, React.createElement(ArrowDownwardIcon, null)));\n};","map":{"version":3,"sources":["/Users/mark/Documents/space-of-space-front/node_modules/ra-ui-materialui/esm/form/SimpleFormIterator.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","Children","cloneElement","isValidElement","useRef","Button","FormHelperText","Typography","makeStyles","AddIcon","CloseIcon","ArrowUpwardIcon","ArrowDownwardIcon","classNames","get","PropTypes","useTranslate","ValidationError","CSSTransition","TransitionGroup","IconButtonWithTooltip","FormInput","SimpleFormIterator","props","_a","addButton","createElement","DefaultAddButton","_b","removeButton","DefaultRemoveButton","_c","reOrderButtons","DefaultReOrderButtons","basePath","children","className","fields","_d","meta","error","submitFailed","record","resource","source","disabled","disableAdd","disableRemove","disableReordering","variant","margin","TransitionProps","defaultValue","_e","getItemLabel","DefaultLabelFn","classes","useStyles","nodeRef","nextId","ids","current","Array","from","keys","removeField","index","splice","remove","disableRemoveField","addField","push","undefined","handleAddButtonClick","originalOnClickHandler","event","handleRemoveButtonClick","handleReorder","origin","destination","item","move","records","root","component","map","member","key","timeout","line","indexContainer","max","onReorder","form","input","index2","inputProps","label","action","onClick","defaultProps","propTypes","any","element","string","node","object","translate","func","bool","oneOfType","shape","theme","padding","marginBottom","borderBottom","display","listStyleType","palette","divider","breakpoints","down","opacity","transform","transition","marginRight","spacing","paddingTop","alignItems","flex","leftIcon","name","size"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement, useRef, } from 'react';\nimport { Button, FormHelperText, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport CloseIcon from '@material-ui/icons/RemoveCircleOutline';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport classNames from 'classnames';\nimport get from 'lodash/get';\nimport PropTypes from 'prop-types';\nimport { useTranslate, ValidationError } from 'ra-core';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { IconButtonWithTooltip } from '../button';\nimport FormInput from './FormInput';\nexport var SimpleFormIterator = function (props) {\n    var _a = props.addButton, addButton = _a === void 0 ? React.createElement(DefaultAddButton, null) : _a, _b = props.removeButton, removeButton = _b === void 0 ? React.createElement(DefaultRemoveButton, null) : _b, _c = props.reOrderButtons, reOrderButtons = _c === void 0 ? React.createElement(DefaultReOrderButtons, null) : _c, basePath = props.basePath, children = props.children, className = props.className, fields = props.fields, _d = props.meta, error = _d.error, submitFailed = _d.submitFailed, record = props.record, resource = props.resource, source = props.source, disabled = props.disabled, disableAdd = props.disableAdd, disableRemove = props.disableRemove, disableReordering = props.disableReordering, variant = props.variant, margin = props.margin, TransitionProps = props.TransitionProps, defaultValue = props.defaultValue, _e = props.getItemLabel, getItemLabel = _e === void 0 ? DefaultLabelFn : _e;\n    var classes = useStyles(props);\n    var nodeRef = useRef(null);\n    // We need a unique id for each field for a proper enter/exit animation\n    // so we keep an internal map between the field position and an auto-increment id\n    var nextId = useRef(fields && fields.length\n        ? fields.length\n        : defaultValue\n            ? defaultValue.length\n            : 0);\n    // We check whether we have a defaultValue (which must be an array) before checking\n    // the fields prop which will always be empty for a new record.\n    // Without it, our ids wouldn't match the default value and we would get key warnings\n    // on the CssTransition element inside our render method\n    var ids = useRef(nextId.current > 0 ? Array.from(Array(nextId.current).keys()) : []);\n    var removeField = function (index) { return function () {\n        ids.current.splice(index, 1);\n        fields === null || fields === void 0 ? void 0 : fields.remove(index);\n    }; };\n    // Returns a boolean to indicate whether to disable the remove button for certain fields.\n    // If disableRemove is a function, then call the function with the current record to\n    // determining if the button should be disabled. Otherwise, use a boolean property that\n    // enables or disables the button for all of the fields.\n    var disableRemoveField = function (record, disableRemove) {\n        if (typeof disableRemove === 'boolean') {\n            return disableRemove;\n        }\n        return disableRemove && disableRemove(record);\n    };\n    var addField = function () {\n        ids.current.push(nextId.current++);\n        fields === null || fields === void 0 ? void 0 : fields.push(undefined);\n    };\n    // add field and call the onClick event of the button passed as addButton prop\n    var handleAddButtonClick = function (originalOnClickHandler) { return function (event) {\n        addField();\n        if (originalOnClickHandler) {\n            originalOnClickHandler(event);\n        }\n    }; };\n    // remove field and call the onClick event of the button passed as removeButton prop\n    var handleRemoveButtonClick = function (originalOnClickHandler, index) { return function (event) {\n        removeField(index)();\n        if (originalOnClickHandler) {\n            originalOnClickHandler(event);\n        }\n    }; };\n    var handleReorder = function (origin, destination) {\n        var item = ids.current[origin];\n        ids.current[origin] = ids.current[destination];\n        ids.current[destination] = item;\n        fields === null || fields === void 0 ? void 0 : fields.move(origin, destination);\n    };\n    var records = get(record, source);\n    return fields ? (React.createElement(\"ul\", { className: classNames(classes.root, className) },\n        submitFailed && typeof error !== 'object' && error && (React.createElement(FormHelperText, { error: true },\n            React.createElement(ValidationError, { error: error }))),\n        React.createElement(TransitionGroup, { component: null }, fields.map(function (member, index) { return (React.createElement(CSSTransition, __assign({ nodeRef: nodeRef, key: ids.current[index], timeout: 500, classNames: \"fade\" }, TransitionProps),\n            React.createElement(\"li\", { className: classes.line },\n                React.createElement(\"div\", null,\n                    React.createElement(\"div\", { className: classes.indexContainer },\n                        React.createElement(Typography, { variant: \"body1\", className: classes.index }, getItemLabel(index)),\n                        !disabled &&\n                            !disableReordering &&\n                            cloneElement(reOrderButtons, {\n                                index: index,\n                                max: fields.length,\n                                onReorder: handleReorder,\n                                className: classNames('button-reorder', \"button-reorder-\" + source + \"-\" + index),\n                            }))),\n                React.createElement(\"section\", { className: classes.form }, Children.map(children, function (input, index2) {\n                    if (!isValidElement(input)) {\n                        return null;\n                    }\n                    var _a = input.props, source = _a.source, inputProps = __rest(_a, [\"source\"]);\n                    return (React.createElement(FormInput, { basePath: input.props.basePath ||\n                            basePath, input: cloneElement(input, __assign({ source: source\n                                ? member + \".\" + source\n                                : member, index: source\n                                ? undefined\n                                : index2, label: typeof input.props\n                                .label ===\n                                'undefined'\n                                ? source\n                                    ? \"resources.\" + resource + \".fields.\" + source\n                                    : undefined\n                                : input.props.label, disabled: disabled }, inputProps)), record: (records &&\n                            records[index]) ||\n                            {}, resource: resource, variant: variant, margin: margin }));\n                })),\n                !disabled &&\n                    !disableRemoveField((records && records[index]) || {}, disableRemove) && (React.createElement(\"span\", { className: classes.action }, cloneElement(removeButton, {\n                    onClick: handleRemoveButtonClick(removeButton.props.onClick, index),\n                    className: classNames('button-remove', \"button-remove-\" + source + \"-\" + index),\n                })))))); })),\n        !disabled && !disableAdd && (React.createElement(\"li\", { className: classes.line },\n            React.createElement(\"span\", { className: classes.action }, cloneElement(addButton, {\n                onClick: handleAddButtonClick(addButton.props.onClick),\n                className: classNames('button-add', \"button-add-\" + source),\n            })))))) : null;\n};\nSimpleFormIterator.defaultProps = {\n    disableAdd: false,\n    disableRemove: false,\n};\nSimpleFormIterator.propTypes = {\n    defaultValue: PropTypes.any,\n    addButton: PropTypes.element,\n    removeButton: PropTypes.element,\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    // @ts-ignore\n    fields: PropTypes.object,\n    meta: PropTypes.object,\n    // @ts-ignore\n    record: PropTypes.object,\n    source: PropTypes.string,\n    resource: PropTypes.string,\n    translate: PropTypes.func,\n    disableAdd: PropTypes.bool,\n    disableRemove: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    TransitionProps: PropTypes.shape({}),\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a, _b;\n    return ({\n        root: {\n            padding: 0,\n            marginBottom: 0,\n            '& > li:last-child': {\n                borderBottom: 'none',\n            },\n        },\n        line: (_a = {\n                display: 'flex',\n                listStyleType: 'none',\n                borderBottom: \"solid 1px \" + theme.palette.divider\n            },\n            _a[theme.breakpoints.down('xs')] = { display: 'block' },\n            _a['&.fade-enter'] = {\n                opacity: 0.01,\n                transform: 'translateX(100vw)',\n            },\n            _a['&.fade-enter-active'] = {\n                opacity: 1,\n                transform: 'translateX(0)',\n                transition: 'all 500ms ease-in',\n            },\n            _a['&.fade-exit'] = {\n                opacity: 1,\n                transform: 'translateX(0)',\n            },\n            _a['&.fade-exit-active'] = {\n                opacity: 0.01,\n                transform: 'translateX(100vw)',\n                transition: 'all 500ms ease-in',\n            },\n            _a),\n        index: (_b = {},\n            _b[theme.breakpoints.down('sm')] = { display: 'none' },\n            _b.marginRight = theme.spacing(1),\n            _b),\n        indexContainer: {\n            display: 'flex',\n            paddingTop: '1em',\n            marginRight: theme.spacing(1),\n            alignItems: 'center',\n        },\n        form: { flex: 2 },\n        action: {\n            paddingTop: '0.5em',\n        },\n        leftIcon: {\n            marginRight: theme.spacing(1),\n        },\n    });\n}, { name: 'RaSimpleFormIterator' });\nvar DefaultAddButton = function (props) {\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Button, __assign({ size: \"small\" }, props),\n        React.createElement(AddIcon, { className: classes.leftIcon }),\n        translate('ra.action.add')));\n};\nvar DefaultLabelFn = function (index) { return index + 1; };\nvar DefaultRemoveButton = function (props) {\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Button, __assign({ size: \"small\" }, props),\n        React.createElement(CloseIcon, { className: classes.leftIcon }),\n        translate('ra.action.remove')));\n};\nvar DefaultReOrderButtons = function (_a) {\n    var className = _a.className, index = _a.index, max = _a.max, onReorder = _a.onReorder;\n    return (React.createElement(\"div\", { className: className },\n        React.createElement(IconButtonWithTooltip, { label: \"ra.action.move_up\", size: \"small\", onClick: function () { return onReorder(index, index - 1); }, disabled: index <= 0 },\n            React.createElement(ArrowUpwardIcon, null)),\n        React.createElement(IconButtonWithTooltip, { label: \"ra.action.move_down\", size: \"small\", onClick: function () { return onReorder(index, index + 1); }, disabled: max == null || index >= max - 1 },\n            React.createElement(ArrowDownwardIcon, null))));\n};\n"]},"metadata":{},"sourceType":"module"}