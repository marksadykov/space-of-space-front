{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport FakeRest from 'fakerest';\n/* eslint-disable no-console */\n\nfunction log(type, resource, params, response) {\n  if (console.group) {\n    // Better logging in Chrome\n    console.groupCollapsed(type, resource, JSON.stringify(params));\n    console.log(response);\n    console.groupEnd();\n  } else {\n    console.log('FakeRest request ', type, resource, params);\n    console.log('FakeRest response', response);\n  }\n}\n/**\n * Respond to react-admin data queries using a local JavaScript object\n *\n * Useful for debugging and testing - do not use in production.\n *\n * @example\n *\n * import fakeDataProvider from 'ra-data-fakerest';\n * const dataProvider = fakeDataProvider({\n *   posts: [\n *     { id: 0, title: 'Hello, world!' },\n *     { id: 1, title: 'FooBar' },\n *   ],\n *   comments: [\n *     { id: 0, post_id: 0, author: 'John Doe', body: 'Sensational!' },\n *     { id: 1, post_id: 0, author: 'Jane Doe', body: 'I agree' },\n *   ],\n * })\n */\n\n\nexport default (function (data, loggingEnabled) {\n  if (loggingEnabled === void 0) {\n    loggingEnabled = false;\n  }\n\n  var restServer = new FakeRest.Server();\n  restServer.init(data);\n\n  if (typeof window !== 'undefined') {\n    // give way to update data in the console\n    window.restServer = restServer;\n  }\n\n  function getResponse(type, resource, params) {\n    var _a;\n\n    switch (type) {\n      case 'getList':\n        {\n          var _b = params.pagination,\n              page = _b.page,\n              perPage = _b.perPage;\n          var _c = params.sort,\n              field = _c.field,\n              order = _c.order;\n          var query = {\n            sort: [field, order],\n            range: [(page - 1) * perPage, page * perPage - 1],\n            filter: params.filter\n          };\n          return {\n            data: restServer.getAll(resource, query),\n            total: restServer.getCount(resource, {\n              filter: params.filter\n            })\n          };\n        }\n\n      case 'getOne':\n        return {\n          data: restServer.getOne(resource, params.id, __assign({}, params))\n        };\n\n      case 'getMany':\n        return {\n          data: restServer.getAll(resource, {\n            filter: {\n              id: params.ids\n            }\n          })\n        };\n\n      case 'getManyReference':\n        {\n          var _d = params.pagination,\n              page = _d.page,\n              perPage = _d.perPage;\n          var _e = params.sort,\n              field = _e.field,\n              order = _e.order;\n          var query = {\n            sort: [field, order],\n            range: [(page - 1) * perPage, page * perPage - 1],\n            filter: __assign(__assign({}, params.filter), (_a = {}, _a[params.target] = params.id, _a))\n          };\n          return {\n            data: restServer.getAll(resource, query),\n            total: restServer.getCount(resource, {\n              filter: query.filter\n            })\n          };\n        }\n\n      case 'update':\n        return {\n          data: restServer.updateOne(resource, params.id, __assign({}, params.data))\n        };\n\n      case 'updateMany':\n        params.ids.forEach(function (id) {\n          return restServer.updateOne(resource, id, __assign({}, params.data));\n        });\n        return {\n          data: params.ids\n        };\n\n      case 'create':\n        return {\n          data: restServer.addOne(resource, __assign({}, params.data))\n        };\n\n      case 'delete':\n        return {\n          data: restServer.removeOne(resource, params.id)\n        };\n\n      case 'deleteMany':\n        params.ids.forEach(function (id) {\n          return restServer.removeOne(resource, id);\n        });\n        return {\n          data: params.ids\n        };\n\n      default:\n        return false;\n    }\n  }\n  /**\n   * @param {String} type One of the data Provider methods, e.g. 'getList'\n   * @param {String} resource Name of the resource to fetch, e.g. 'posts'\n   * @param {Object} params The data request params, depending on the type\n   * @returns {Promise} The response\n   */\n\n\n  var handle = function (type, resource, params) {\n    var collection = restServer.getCollection(resource);\n\n    if (!collection && type !== 'create') {\n      var error = new UndefinedResourceError(\"Undefined collection \\\"\" + resource + \"\\\"\");\n      error.code = 1; // make that error detectable\n\n      return Promise.reject(error);\n    }\n\n    var response;\n\n    try {\n      response = getResponse(type, resource, params);\n    } catch (error) {\n      console.error(error);\n      return Promise.reject(error);\n    }\n\n    if (loggingEnabled) {\n      log(type, resource, params, response);\n    }\n\n    return Promise.resolve(response);\n  };\n\n  return {\n    getList: function (resource, params) {\n      return handle('getList', resource, params);\n    },\n    getOne: function (resource, params) {\n      return handle('getOne', resource, params);\n    },\n    getMany: function (resource, params) {\n      return handle('getMany', resource, params);\n    },\n    getManyReference: function (resource, params) {\n      return handle('getManyReference', resource, params);\n    },\n    update: function (resource, params) {\n      return handle('update', resource, params);\n    },\n    updateMany: function (resource, params) {\n      return handle('updateMany', resource, params);\n    },\n    create: function (resource, params) {\n      return handle('create', resource, params);\n    },\n    delete: function (resource, params) {\n      return handle('delete', resource, params);\n    },\n    deleteMany: function (resource, params) {\n      return handle('deleteMany', resource, params);\n    }\n  };\n});\n\nvar UndefinedResourceError =\n/** @class */\nfunction (_super) {\n  __extends(UndefinedResourceError, _super);\n\n  function UndefinedResourceError() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return UndefinedResourceError;\n}(Error);","map":{"version":3,"sources":["/Users/mark/Documents/space-of-space-front/node_modules/ra-data-fakerest/esm/index.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","FakeRest","log","type","resource","params","response","console","group","groupCollapsed","JSON","stringify","groupEnd","data","loggingEnabled","restServer","Server","init","window","getResponse","_a","_b","pagination","page","perPage","_c","sort","field","order","query","range","filter","getAll","total","getCount","getOne","id","ids","_d","_e","target","updateOne","forEach","addOne","removeOne","handle","collection","getCollection","error","UndefinedResourceError","code","Promise","reject","resolve","getList","getMany","getManyReference","update","updateMany","delete","deleteMany","_super","Error"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport FakeRest from 'fakerest';\n/* eslint-disable no-console */\nfunction log(type, resource, params, response) {\n    if (console.group) {\n        // Better logging in Chrome\n        console.groupCollapsed(type, resource, JSON.stringify(params));\n        console.log(response);\n        console.groupEnd();\n    }\n    else {\n        console.log('FakeRest request ', type, resource, params);\n        console.log('FakeRest response', response);\n    }\n}\n/**\n * Respond to react-admin data queries using a local JavaScript object\n *\n * Useful for debugging and testing - do not use in production.\n *\n * @example\n *\n * import fakeDataProvider from 'ra-data-fakerest';\n * const dataProvider = fakeDataProvider({\n *   posts: [\n *     { id: 0, title: 'Hello, world!' },\n *     { id: 1, title: 'FooBar' },\n *   ],\n *   comments: [\n *     { id: 0, post_id: 0, author: 'John Doe', body: 'Sensational!' },\n *     { id: 1, post_id: 0, author: 'Jane Doe', body: 'I agree' },\n *   ],\n * })\n */\nexport default (function (data, loggingEnabled) {\n    if (loggingEnabled === void 0) { loggingEnabled = false; }\n    var restServer = new FakeRest.Server();\n    restServer.init(data);\n    if (typeof window !== 'undefined') {\n        // give way to update data in the console\n        window.restServer = restServer;\n    }\n    function getResponse(type, resource, params) {\n        var _a;\n        switch (type) {\n            case 'getList': {\n                var _b = params.pagination, page = _b.page, perPage = _b.perPage;\n                var _c = params.sort, field = _c.field, order = _c.order;\n                var query = {\n                    sort: [field, order],\n                    range: [(page - 1) * perPage, page * perPage - 1],\n                    filter: params.filter,\n                };\n                return {\n                    data: restServer.getAll(resource, query),\n                    total: restServer.getCount(resource, {\n                        filter: params.filter,\n                    }),\n                };\n            }\n            case 'getOne':\n                return {\n                    data: restServer.getOne(resource, params.id, __assign({}, params)),\n                };\n            case 'getMany':\n                return {\n                    data: restServer.getAll(resource, {\n                        filter: { id: params.ids },\n                    }),\n                };\n            case 'getManyReference': {\n                var _d = params.pagination, page = _d.page, perPage = _d.perPage;\n                var _e = params.sort, field = _e.field, order = _e.order;\n                var query = {\n                    sort: [field, order],\n                    range: [(page - 1) * perPage, page * perPage - 1],\n                    filter: __assign(__assign({}, params.filter), (_a = {}, _a[params.target] = params.id, _a)),\n                };\n                return {\n                    data: restServer.getAll(resource, query),\n                    total: restServer.getCount(resource, {\n                        filter: query.filter,\n                    }),\n                };\n            }\n            case 'update':\n                return {\n                    data: restServer.updateOne(resource, params.id, __assign({}, params.data)),\n                };\n            case 'updateMany':\n                params.ids.forEach(function (id) {\n                    return restServer.updateOne(resource, id, __assign({}, params.data));\n                });\n                return { data: params.ids };\n            case 'create':\n                return {\n                    data: restServer.addOne(resource, __assign({}, params.data)),\n                };\n            case 'delete':\n                return { data: restServer.removeOne(resource, params.id) };\n            case 'deleteMany':\n                params.ids.forEach(function (id) { return restServer.removeOne(resource, id); });\n                return { data: params.ids };\n            default:\n                return false;\n        }\n    }\n    /**\n     * @param {String} type One of the data Provider methods, e.g. 'getList'\n     * @param {String} resource Name of the resource to fetch, e.g. 'posts'\n     * @param {Object} params The data request params, depending on the type\n     * @returns {Promise} The response\n     */\n    var handle = function (type, resource, params) {\n        var collection = restServer.getCollection(resource);\n        if (!collection && type !== 'create') {\n            var error = new UndefinedResourceError(\"Undefined collection \\\"\" + resource + \"\\\"\");\n            error.code = 1; // make that error detectable\n            return Promise.reject(error);\n        }\n        var response;\n        try {\n            response = getResponse(type, resource, params);\n        }\n        catch (error) {\n            console.error(error);\n            return Promise.reject(error);\n        }\n        if (loggingEnabled) {\n            log(type, resource, params, response);\n        }\n        return Promise.resolve(response);\n    };\n    return {\n        getList: function (resource, params) { return handle('getList', resource, params); },\n        getOne: function (resource, params) { return handle('getOne', resource, params); },\n        getMany: function (resource, params) { return handle('getMany', resource, params); },\n        getManyReference: function (resource, params) {\n            return handle('getManyReference', resource, params);\n        },\n        update: function (resource, params) { return handle('update', resource, params); },\n        updateMany: function (resource, params) {\n            return handle('updateMany', resource, params);\n        },\n        create: function (resource, params) { return handle('create', resource, params); },\n        delete: function (resource, params) { return handle('delete', resource, params); },\n        deleteMany: function (resource, params) {\n            return handle('deleteMany', resource, params);\n        },\n    };\n});\nvar UndefinedResourceError = /** @class */ (function (_super) {\n    __extends(UndefinedResourceError, _super);\n    function UndefinedResourceError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return UndefinedResourceError;\n}(Error));\n"]},"metadata":{},"sourceType":"module"}